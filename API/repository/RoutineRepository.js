const _0x1f56cc=_0x544c;function _0x544c(_0x4c0ad8,_0x310b16){const _0x234cff=_0x234c();return _0x544c=function(_0x544c7a,_0x57e698){_0x544c7a=_0x544c7a-0x8e;let _0x323e7b=_0x234cff[_0x544c7a];return _0x323e7b;},_0x544c(_0x4c0ad8,_0x310b16);}(function(_0x1d6601,_0x275be5){const _0x5061c3=_0x544c,_0x352a59=_0x1d6601();while(!![]){try{const _0x3e4843=parseInt(_0x5061c3(0xa6))/0x1*(parseInt(_0x5061c3(0xb8))/0x2)+parseInt(_0x5061c3(0xa2))/0x3*(parseInt(_0x5061c3(0xad))/0x4)+-parseInt(_0x5061c3(0x99))/0x5*(-parseInt(_0x5061c3(0x93))/0x6)+parseInt(_0x5061c3(0xb2))/0x7+-parseInt(_0x5061c3(0x94))/0x8*(parseInt(_0x5061c3(0x9b))/0x9)+parseInt(_0x5061c3(0x8e))/0xa*(parseInt(_0x5061c3(0xb6))/0xb)+-parseInt(_0x5061c3(0xac))/0xc;if(_0x3e4843===_0x275be5)break;else _0x352a59['push'](_0x352a59['shift']());}catch(_0x180b26){_0x352a59['push'](_0x352a59['shift']());}}}(_0x234c,0x93a63));const Repository=require(_0x1f56cc(0xab)),{PagedResult}=require(_0x1f56cc(0x95));function _0x234c(){const _0xc9773d=['toLowerCase','3328381rEWwrT','User','category','clone','198hKofcg','count(*)','914bGWkRs','Routine.difficulty','leftJoin','Routine','261270AAmJjH','queryByAdvancedFilter2','Routine.*','User.id','difficulty','2974722fLBXmm','1761632TevJsJ','../utils/PagedResult','where','LOWER(','column','5cqkOlK','Routine.CategoryId','36UgVsMz','tableName','Category','offset','Difficulty','User.username','orderBy','195QvXssf','Routine.userId','updateScore','build','1907cHwIZB','Difficulty.name','handleError','exports','limit','./Repository','12480996fWiNdh','13084RdUKdk','andWhereRaw','update','Difficulty.level'];_0x234c=function(){return _0xc9773d;};return _0x234c();}module[_0x1f56cc(0xa9)]=class RoutineRepository extends Repository{constructor(_0xeefaef){const _0x18c9f9=_0x1f56cc;super(_0xeefaef,_0x18c9f9(0xbb));}async[_0x1f56cc(0xa4)](_0x734944,_0x3dd795){const _0x507489=_0x1f56cc;try{await this['db'](this['tableName'])[_0x507489(0x96)]({'id':_0x734944})[_0x507489(0xaf)]({'score':_0x3dd795});}catch(_0x1b5666){super[_0x507489(0xa8)](_0x1b5666);}}async[_0x1f56cc(0x8f)](_0x4ac370,_0x4a890d={'column':'Routine.name','value':''},_0x365814,_0x14171a,_0x2196a8,_0x3b6a6d){const _0x436857=_0x1f56cc;try{let _0x2b097d=this['db'](this[_0x436857(0x9c)]);_0x2b097d['select']([_0x436857(0x90)]);if(_0x4ac370)_0x2b097d[_0x436857(0x96)](_0x4ac370);if(_0x4a890d)_0x2b097d[_0x436857(0xae)](_0x436857(0x97)+_0x4a890d[_0x436857(0x98)]+')\x20LIKE\x20?','%'+_0x4a890d['value'][_0x436857(0xb1)]()+'%');if(_0x2196a8&&_0x3b6a6d){let _0x3e6096=_0x2196a8;if(_0x2196a8===_0x436857(0x92))_0x2b097d[_0x436857(0xba)](_0x436857(0x9f),_0x436857(0xb9),_0x436857(0xa7)),_0x3e6096=_0x436857(0xb0);else{if(_0x2196a8===_0x436857(0xb4))_0x2b097d[_0x436857(0xba)](_0x436857(0x9d),_0x436857(0x9a),'Category.id'),_0x3e6096='Category.name';else _0x2196a8==='user'&&(_0x2b097d[_0x436857(0xba)](_0x436857(0xb3),_0x436857(0xa3),_0x436857(0x91)),_0x3e6096=_0x436857(0xa0));}_0x2b097d[_0x436857(0xa1)](_0x3e6096,_0x3b6a6d);}const _0x4a7a85=PagedResult[_0x436857(0xaa)](_0x14171a),_0x1b0c92=PagedResult[_0x436857(0x9e)](_0x365814,_0x4a7a85),_0x2ce37f=await _0x2b097d['clone']()[_0x436857(0x9e)](_0x1b0c92)['limit'](_0x4a7a85),_0x599fb2=await _0x2b097d[_0x436857(0xb5)]()['count']();return PagedResult[_0x436857(0xa5)]({'totalCount':_0x599fb2[0x0][_0x436857(0xb7)],'offset':_0x1b0c92,'limit':_0x4a7a85,'orderBy':_0x2196a8,'direction':_0x3b6a6d,'content':_0x2ce37f});}catch(_0x28e93d){throw this[_0x436857(0xa8)](_0x28e93d);}}};